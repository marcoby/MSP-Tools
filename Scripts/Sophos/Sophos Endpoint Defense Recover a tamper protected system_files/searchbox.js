window.Coveo=window.Coveo||{};var c4sf=function(n){var r={};function a(e){if(r[e])return r[e].exports;var t=r[e]={i:e,l:!1,exports:{}};return n[e].call(t.exports,t,t.exports,a),t.l=!0,t.exports}return a.m=n,a.c=r,a.d=function(e,t,n){a.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},a.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},a.t=function(t,e){if(1&e&&(t=a(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(a.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var r in t)a.d(n,r,function(e){return t[e]}.bind(null,r));return n},a.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return a.d(t,"a",t),t},a.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},a.p="",a(a.s=129)}({0:function(e,t){e.exports=window.Coveo},129:function(e,t,n){"use strict";n.r(t);var r=n(96);n.d(t,"CommunitySearchboxEvent",function(){return r.a}),n.d(t,"StandaloneSearchbox",function(){return r.b})},38:function(e,t,n){"use strict";n.d(t,"a",function(){return r});var r=(a.reset=function(){a.location=window.location},a.location=window.location,a);function a(){}},41:function(e,t,n){"use strict";n.d(t,"a",function(){return c});var r,a,o=n(0),i=n(42),s=(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),u="@uri",c=(a=o.Component,s(l,a),l.prototype.handleBuildingQuery=function(e){var t=this.getSalesforceQuery();t===u||""===t?new o.QueryboxQueryParameters(this.options).addParameters(e.queryBuilder,this.queryStateModel.get("q")):new o.QueryboxQueryParameters(this.options).addParameters(e.queryBuilder,t)},l.prototype.getSalesforceQuery=function(){return i.a.isExampleSearchTerm()?u:i.a.salesforceQuery},l.ID="CommunityStateManager",l.options={enableLowercaseOperators:o.Querybox.options.enableLowercaseOperators,enablePartialMatch:o.Querybox.options.enablePartialMatch,enableQuerySyntax:o.Querybox.options.enableQuerySyntax,enableQuestionMarks:o.Querybox.options.enableQuestionMarks,enableWildcards:o.Querybox.options.enableWildcards,partialMatchKeywords:o.Querybox.options.partialMatchKeywords,partialMatchThreshold:o.Querybox.options.partialMatchThreshold},l);function l(e,t,n){var r=a.call(this,e,l.ID,n)||this;return r.element=e,r.options=t,r.options=o.ComponentOptions.initComponentOptions(e,l,t),r.bind.onRootElement(o.QueryEvents.buildingQuery,function(e){return r.handleBuildingQuery(e)}),r}o.Initialization.registerAutoCreateComponent(c)},42:function(e,t,n){"use strict";n.d(t,"a",function(){return o});var r=n(38),a=/(--(preview|live)|(live|site)preview|\.preview\.)/,o=(Object.defineProperty(i,"defaultSearchExpression",{get:function(){return"Example search term"},enumerable:!0,configurable:!0}),Object.defineProperty(i,"salesforceQuery",{get:function(){return decodeURIComponent(r.a.location.pathname.split(/\/(global-)?search\//)[2]||"")},enumerable:!0,configurable:!0}),i.isExampleSearchTerm=function(){return i.isInBuilderOrPreview()&&"Example search term"===i.salesforceQuery},i.isInBuilderOrPreview=function(){return a.test(r.a.location.origin)},i);function i(){}},96:function(e,t,n){"use strict";n.d(t,"a",function(){return u}),n.d(t,"b",function(){return g});var r,f=n(0),a=n(41),o=n(38),i=n(42),s=(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),u=(c.searchPageInitialized="searchPageInitialized",c.routeChanged="StandaloneSearchbox.routeChanged",c);function c(){}var d,l="isExternal",h="."+a.a.computeCssClassName(a.a),y="."+f.SearchInterface.computeCssClassName(f.SearchInterface),p="."+f.Component.computeCssClassNameForType(f.FacetValueSuggestions.ID),g=(d=f.Omnibox,s(b,d),b.prototype.bindEvents=function(){var n=this;this.bind.onRootElement(f.QueryEvents.newQuery,this.onNewQuery.bind(this)),this.bind.onRootElement(f.QueryEvents.buildingQuery,this.onBuildingQuery.bind(this)),this.bind.onRootElement(u.searchPageInitialized,this.onSearchPageInitialized.bind(this)),this.bind.onRootElement(f.InitializationEvents.afterInitialization,function(){var e=n.root.querySelector("."+f.Component.computeCssClassName(Coveo.SearchButton));if(void 0!==e){var t=Coveo.get(e);void 0!==t&&(t.click=function(){n.submit()})}}),this.bind.onRootElement(f.QueryEvents.doneBuildingQuery,function(e){e[l]||(e.cancel=!0,f.QueryboxQueryParameters.allowDuplicateQuery())});var e=this.magicBox.getText();e&&this.bind.onRootElement(f.InitializationEvents.afterInitialization,function(){n.setText(e),n.magicBox.addSuggestions()}),this.bind.onRootElement(f.InitializationEvents.restoreHistoryState,function(){var e=n.getQueryStateHashValue();e&&n.setText(e)}),this.bind.onRootElement(this.queryStateModel.getEventName("preprocess"),function(e){n.fvState=e.fv&&0<Object.keys(e.fv).length?e.fv:null}),this.bind.onRootElement(u.routeChanged,this.onHashChange.bind(this)),window.addEventListener("hashchange",this.onHashChange.bind(this))},b.prototype.submit=function(){this.searchInterface.queryStateModel.set(f.QueryStateModel.attributesEnum.q,this.getText()),d.prototype.submit.call(this)},b.prototype.onSearchPageInitialized=function(e){var n=this;if(e.searchInterface&&!this.externalSearchInterface){var t=this.getCommunityStateManager(e.searchInterface);if(t){this.externalSearchInterface=e.searchInterface,t.options.enableQuerySyntax=this.options.enableQuerySyntax;var r=this.queryController,a=this.queryStateModel,o=this.usageAnalytics,i=this.searchInterface;this.bind.on(this.externalSearchInterface.element,f.InitializationEvents.nuke,function(){n.queryController=r,n.queryStateModel=a,n.facetValueSuggests.forEach(function(e){e.queryStateModel=a,e.queryController=r,e.searchInterface=i,e.facetValueSuggestionsProvider.queryController=r}),n.searchInterface.usageAnalytics=o,n.externalSearchInterface=null,n.disableFacetValueStateHandler()});var s=this.externalSearchInterface.root,u=this.externalSearchInterface.queryStateModel;a.setMultiple(u.getAttributes(),{customAttribute:!0}),u.setMultiple(a.getAttributes(),{customAttribute:!0}),this.queryController=this.externalSearchInterface.queryController,this.queryStateModel=this.externalSearchInterface.queryStateModel,this.searchInterface.usageAnalytics=this.externalSearchInterface.usageAnalytics,this.facetValueSuggests.forEach(function(e){e.queryStateModel=u,e.queryController=n.externalSearchInterface.queryController,e.searchInterface=n.externalSearchInterface,e.facetValueSuggestionsProvider.queryController=n.externalSearchInterface.queryController}),[f.QueryEvents.buildingQuery,f.QueryEvents.doneBuildingQuery,f.QueryEvents.duringQuery].forEach(function(t){n.bind.on(s,t,function(e){e[l]=!0,n.bind.trigger(n.root,t,e)})}),this.bind.onRootElement(f.AnalyticsEvents.changeAnalyticsCustomData,function(e){if(n.externalSearchInterface&&n.externalSearchInterface.usageAnalytics){var t=n.externalSearchInterface.usageAnalytics;e.originLevel1=t.originLevel1||e.originLevel1}u&&(e.originLevel2=u.get(f.QueryStateModel.attributesEnum.t)),n.bind.trigger(s,f.AnalyticsEvents.changeAnalyticsCustomData,e)})}}},b.prototype.onMagicboxSubmit=function(){return this.redirectIfNeeded(this.submit.bind(this))},b.prototype.handleMagicboxClear=function(e){var t=this;return function(){t.externalSearchInterface&&t.externalSearchInterface.queryStateModel&&t.externalSearchInterface.queryStateModel.set(f.QueryStateModel.attributesEnum.q,"",{silent:!0}),t.isInSearchPage()?e():t.magicBox.setText("")}},b.prototype.onMagicboxSelect=function(t){var n=this;return function(e){return n.redirectIfNeeded(function(){return t(e)})}},b.prototype.onNewQuery=function(e){e[l]||this.redirectIfNeeded(this.submit.bind(this))},b.prototype.onBuildingQuery=function(e){this.externalSearchInterface&&(e.queryBuilder.numberOfResults=this.externalSearchInterface.resultsPerPage)},b.prototype.buildRedirectStateHash=function(t){return Object.keys(t).map(function(e){return e+"="+(t[e].join?"["+t[e].join(",")+"]":t[e])}).join("&")},b.prototype.redirectIfNeeded=function(e){if(this.isInSearchPage())e&&e();else{var t={q:encodeURIComponent(this.getText())};this.fvState&&(t.fv=f.HashUtils.encodeObject(this.fvState)),this.fireUrlEvent(this.options.searchPageName+"#"+this.buildRedirectStateHash(t)),this.magicBox.blur()}},b.prototype.fireUrlEvent=function(e){var t=$A.get("e.force:navigateToURL");t.setParams({url:"/"+e,isredirect:!1}),t.fire()},b.prototype.onHashChange=function(){if(this.isInSearchPage()){var e=this.getQueryStateHashValue();(""===e||e&&e!=this.getText())&&this.magicBox.setText(e)}else this.resetSearchbox()},b.prototype.resetSearchbox=function(){var t=this;Object.keys(this.queryStateModel.attributes).filter(function(e){return!t.queryStateModel.defaultAttributes.hasOwnProperty(e)}).forEach(function(e){delete t.queryStateModel.attributes[e]}),this.queryStateModel.reset(),this.setText("")},b.prototype.getQueryStateHashValue=function(){try{return f.HashUtils.getValue(f.QueryStateModel.attributesEnum.q,f.HashUtils.getHash(o.a))||""}catch(e){return this.logger.debug("No state found for parameter "+f.QueryStateModel.attributesEnum.q+"."),null}},b.prototype.getCurrentPageName=function(){var e=o.a.location.pathname,t=e.lastIndexOf("/s/")+3;return e.substring(t)},b.prototype.getExternalSearchInterface=function(){return Array.prototype.filter.call(document.querySelectorAll(y),function(e){return null!=e.querySelector(h)})[0]},b.prototype.getCommunityStateManager=function(e){try{return Coveo.get(e.root.querySelector(h),a.a)}catch(e){return this.logger.error("CommunityStateManager is not present on the current Community Search page."),null}},b.prototype.isInSearchPage=function(){return this.getCurrentPageName()===this.options.searchPageName||i.a.isExampleSearchTerm()},b.prototype.disableFacetValueStateHandler=function(){this.searchInterface&&this.searchInterface.facetValueStateHandler&&(this.searchInterface.facetValueStateHandler.handleFacetValueState=function(){})},b.ID="StandaloneSearchbox",b.DEFAULT_SEARCH_PAGE_NAME="global-search/%40uri",b.options={searchPageName:f.ComponentOptions.buildStringOption({defaultValue:b.DEFAULT_SEARCH_PAGE_NAME}),placeholder:f.Omnibox.options.placeholder,triggerQueryOnClear:f.Omnibox.options.triggerQueryOnClear,enableFieldAddon:f.Omnibox.options.enableFieldAddon,enableQueryExtensionAddon:f.Omnibox.options.enableQueryExtensionAddon,enableQuerySuggestAddon:f.Omnibox.options.enableQuerySuggestAddon},b);function b(e,t,n){var r,a,o,i=d.call(this,e,t,n)||this;i.element=e,i.options=t,i.fvState=null,i.disableFacetValueStateHandler(),i.facetValueSuggests=(r=i.element,a=p,o=f.FacetValueSuggestions,Object(f.$$)(r).findAll(a).map(function(e){return Object(f.get)(e,o)}));var s=Object(f.$$)(i.element).find(".magic-box-icon");s.innerHTML='<svg enable-background="new 0 0 13 13" viewBox="0 0 13 13" xmlns="http://www.w3.org/2000/svg"><g fill="currentColor"><path d="m7.881 6.501 4.834-4.834c.38-.38.38-1.001 0-1.381s-1.001-.38-1.381 0l-4.834 4.834-4.834-4.835c-.38-.38-1.001-.38-1.381 0s-.38 1.001 0 1.381l4.834 4.834-4.834 4.834c-.38.38-.38 1.001 0 1.381s1.001.38 1.381 0l4.834-4.834 4.834 4.834c.38.38 1.001.38 1.381 0s .38-1.001 0-1.381z"/></g></svg>',s.getElementsByTagName("svg")[0].classList.add("magic-box-clear-svg"),i.options=f.ComponentOptions.initComponentOptions(e,b,t);var u=i.magicBox.onselect,c=i.magicBox.clear;i.magicBox.onsubmit=i.onMagicboxSubmit.bind(i),i.magicBox.onselect=i.onMagicboxSelect(u.bind(i.magicBox)).bind(i),i.magicBox.clear=i.handleMagicboxClear(c.bind(i.magicBox)).bind(i),i.options.searchPageName||(i.options.searchPageName=b.DEFAULT_SEARCH_PAGE_NAME);var l=i.getExternalSearchInterface();if(l&&-1==l.className.indexOf("CoveoCaseCreationInterface")){var h=f.Component.get(l,f.SearchInterface,!0);h?i.onSearchPageInitialized({searchInterface:h}):i.bind.on(l,f.InitializationEvents.afterInitialization,function(){h=f.Component.get(l,f.SearchInterface,!0),i.onSearchPageInitialized({searchInterface:h})})}return i.usageAnalytics&&i.usageAnalytics.setOriginContext("CommunitySearch"),i.bindEvents(),i}f.Initialization.registerAutoCreateComponent(g)}});!function(e,t){for(var n in t)e[n]=t[n]}(window.Coveo,c4sf);